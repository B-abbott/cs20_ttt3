<html>
    <head>
        <meta charset="utf-8">
        <title>Tic Tac Toe</title>
        <script src="https://code.jquery.com/jquery-3.7.0.min.js" 
                integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" 
                crossorigin="anonymous"></script>
        <style >
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            width: 100vw;
            min-height: 100vh;
            overflow-x: hidden;
            background-color: rgb(26, 209, 223);
        }
        #board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 5px;
            width: 600px;
            margin: 20px auto;
            margin-top: 120px;
        }

        #board div {
            width: 200px;
            height: 200px;
            background-color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 125px;
            font-weight: bold;
            border: 2px solid black;
            color: red;
            cursor: pointer;
        }
        #board div:hover {
            background-color: black;
        }
        #turn {
            padding: 20px;
            border: 2px solid black;
            background-color: gray;
            color: white;
            font-size: 50px;
            position: absolute;
            left: 34.5%;
            text-align: center;      
            width: 610px;
        }
        #WC {
            padding: 20px;
            border: 2px solid black;
            background-color: gray;
            color: white;
            font-size: 25px;
            position: absolute;
            left: 34.5%;
            text-align: center;      
            width: 610px;  
        }
        #start {
            position: absolute;
            padding: 5px 10px;
            margin-left: 5px;
            background-color: black;
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 50px;
        }
        #start:hover {
            background-color: gray;
        }
        header {
            text-align: center;
            background-color: #f4f4f4;
            padding: 20px;
            border-bottom: 2px solid #ccc;
            font-size: 75px;
        }
        
        </style>
    </head>
    <body>
        <script>
            function ranTurn() {
                var bool = Math.floor(Math.random() * 2); // Randomly selects between 0 and 1
                if (bool) {
                    $("#turn").html("It's O's turn");
                } else {
                    $("#turn").html("It's X's turn");
                }
            }
        
            // Function to start the game
            function start() {
                for (i = 0; i < 9; i++) {
                    $('#sq' + i).html(""); // Clear each square
                    $('#sq' + i).prop('disabled', false); // Enable each square
                    $('#sq' + i).on('click', makeMove); // Attach click event to each square
                }
                ranTurn(); // Assign random turn
            }
        
            // Function to handle making a move
            function makeMove() {
                var elementID = $(this).attr("id");
                var x = $("#turn").text(); // Get the current turn
        
                // Determine the move based on the current turn
                if (x == "It's X's turn") {
                    $('#' + elementID).html("X");
                    alert("You just placed an X at square " + elementID.slice(-1)); // Alert with square number
                } else {
                    $('#' + elementID).html("O");
                    alert("You just placed an O at square " + elementID.slice(-1)); // Alert with square number
                }
        
                // Disable the square after the move
                $("#" + elementID).prop('disabled', true).off('click'); // Disable the square and remove the click event
        
                // Switch the turn
                if(x == "It's X's turn") 
                {
                    var message = "It's O's turn";
                } else {
                    var message = "It's X's turn";
                }
                $("#turn").html(message); // Update turn display
            }
        
            // Document ready
            $(document).ready(function () {
                $('#start').click(start); // Start the game when the "Start" button is clicked
            });
        </script>
        <header>
            <div id="start">Start Game</div>
            <h1>Tic Tac Toe</h1>
        </header>
        <div id="turn"></div>
        <div id="board">
            <script>
                const NUM_SQUARES = 9;
                for (i=0; i<NUM_SQUARES; i++)
                {
                id = "sq"+i;
                document.write( "<div class='square' id='" + id + "'></div>" );
                }
            </script>
        </div>
        <div id="WC">Win condition: X-X-X</div>
    </body>
</html>